
<mat-toolbar class="main_toolbar">
    <span class="name-toolbar">CRUD Producto</span>
    <span class="ms-fill"></span>

</mat-toolbar>

<div class="container">

    <button mat-button class="container__btn-add" (click)="addProduct()" >
        <mat-icon matPrefix>add</mat-icon>
        AGREGAR
    </button>


    <div class="container__container-body">
        <!-- <mat-progress-bar mode="indeterminate" *ngIf="loading$ | async"></mat-progress-bar> -->
        <div class="container-table" *ngIf="this.product$ |async">
            <table mat-table [dataSource]="productDataSource" >
    
                <ng-container matColumnDef="codePro">
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Codigo  </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> {{element.id }} </td>
                </ng-container>
    
                <ng-container matColumnDef="product">
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Producto </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> {{element.product}} </td>
                </ng-container>
    
                <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Descripcion </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> {{element.description }} </td>
                </ng-container>
    
                <ng-container matColumnDef="codeCate">
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader">Codigo categoria </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> {{element.codeCate}} </td>
                </ng-container>
               
                <ng-container matColumnDef="price" >
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Precio </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> S/ {{element.price? element.price: '-'}} </td>
                </ng-container>
    
                <ng-container matColumnDef="state" >
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Estado </th>
                    <td mat-cell *matCellDef="let element" class="table__cell"> {{element.state? element.state: '-'}} </td>
                </ng-container>      
    
                <ng-container matColumnDef="actions" stickyEnd>
                    <th mat-header-cell *matHeaderCellDef  class="table__cell theader"> Acciones </th>
                    <td mat-cell *matCellDef="let element; let i = index" class="table__cell">
                        <ng-container>
                          <mat-menu #rawMenu="matMenu">
                            <button mat-menu-item (click)="editDialog(element)">
                                <mat-icon>edit</mat-icon> Editar
                            </button>
                            <button mat-menu-item (click)="deleteDialog(element)">
                              <mat-icon>delete</mat-icon>Borrar
                            </button> 
    
                          </mat-menu>
                          <button mat-icon-button [matMenuTriggerFor]="rawMenu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                        </ng-container>
                      </td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="productDisplayedColumns"></tr>
                <tr mat-row *matRowDef="let element; columns: productDisplayedColumns;"></tr>
    
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No hay ningun dato cargado</td>
                </tr>
            </table>
        </div>
        <mat-paginator #ProductPaginator [pageSizeOptions]="[10,20,30]"></mat-paginator>
    </div> 
   
</div>

        